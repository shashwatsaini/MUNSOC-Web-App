<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<link rel="icon" href="{{ url_for('static', filename='logo_white_notext.svg') }}" type="image/svg">
		<title>DSU MUNSOC</title>
		<!--Bootstrap-->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
		<link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
		<!--Icon Library-->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	</head>

	<body>

		<nav class="navbar fixed-top navbar-expand-lg navbar-light" style="background-color: #00204A;">
			<div class="container-fluid">
				<a class="navbar-brand" href="/" style="margin-left: 50px; padding: 5px"><img src="{{ url_for('static', filename='logo_white_notext.svg') }}" height= "50" width="50"></a>
		
				<a class="navbar-brand" href="#" style="font-family: 'museo'; color: white; font-size: 22px; padding: 5px;">DSU MUNSOC</a>
		
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarText">
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item">
							<a class="nav-link" href="/" id="navbar_text">Home </a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/events" id="navbar_text">Events </a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/the-secretariat" id="navbar_text">The Secretariat</a></a>
						</li>
					</ul>
					<span class="navbar-text" style="font-family: 'museo'; color: white; padding: 2px; font-size: 22px;">
						The Model United Nations Society
					</span>
				</div>
			</div>
		</nav>

		<main>
			{% if registered == True %}
			<div class="alert alert-info" role="alert" style="background-color: #FFD700; color: white;">
		  		You have registered successfully.
			</div>
			{% else %}
			<div>
				<hr id="separator" style="width: 100%;">
			</div>
			{% endif %}

			<br>

			<div class="container-md">
				<div class="display-5">Register</div>
				<div class="display-7">For COPE Edition I</div>
			</div>

			<br>

			<div class="container-md">
					<img src="{{ url_for('static', filename='separator2.png') }}" width=50px height=50px>
			</div>

			<br>

			<div class="container-md" style="width: 50%;">
				<form name="team" onsubmit="return validateForm()" method="post">
					<div class="form-group row">
						<label for="inputEmail" class="col-sm-2 col-form-label">Email</label>
							<div class="col-sm-10">
							<input type="email" name="inputEmail" class="form-control" id="inputEmail" placeholder="Email">
						</div>
					</div>
					<br>
					<div class="form-group row">
						<label for="inputTeamName" class="col-sm-2 col-form-label">Team Name</label>
							<div class="col-sm-10">
							<input type="text" name="inputTeamName" class="form-control" id="inputTeamName" placeholder="Team Name">
						</div>
					</div>
					<br>
					<fieldset class="form-group">
					<div class="row">
						<legend class="col-form-label col-sm-2 pt-0">Committee Preference</legend>
						<div class="col-sm-10">
							<div class="form-check">
								<input class="form-check-input" type="radio" name="inputCommitteePreference" id="gridRadios1" value="1">
								<label class="form-check-label" for="gridRadios1">
								The Vidhan Soudha
								</label>
							</div>
							<div class="form-check">
								<input class="form-check-input" type="radio" name="inputCommitteePreference" id="gridRadios2" value="2">
								<label class="form-check-label" for="gridRadios2">
								The Lok Sabha
								</label>
							</div>
							<div class="form-check">
								<input class="form-check-input" type="radio" name="inputCommitteePreference" id="gridRadios3" value="3">
								<label class="form-check-label" for="gridRadios3">
								The UN General Assembly
								</label>
							</div>
						</div>
					</div>
					</fieldset>
					<br>
					<fieldset class="form-group">
					<div class="row">
						<legend class="col-form-label col-sm-2 pt-0">Team Size</legend>
						<div class="col-sm-10">
							<div class="form-check">
								<input class="form-check-input" type="radio" name="inputTeamSize" id="gridRadios4" value="3">
								<label class="form-check-label" for="gridRadios4">
								3
								</label>
							</div>
							<div class="form-check">
								<input class="form-check-input" type="radio" name="inputTeamSize" id="gridRadios5" value="4">
								<label class="form-check-label" for="gridRadios5">
								4
								</label>
							</div>
						</div>
					</div>
					</fieldset>
					<div id="inputFieldsContainer"></div>
					<br><br>
					<div class="form-group row justify-content-center">
						<div class="col-sm-10">
						<button type="submit" class="btn btn-primary" style="background-color: #00204A; border-color: #FFD700; padding-left: 20px; padding-right: 20px;">Submit</button>
						</div>
					</div>
				</form>
			</div>

			<br><br><br>
		</main>
		<footer>
			<div class="display-8">Â© 2024 Copyright: DSU Model United Nations Society</div>
			<div class="display-8">"There is nothing stronger than those two: Patience & Time"</div>			    
			<a class="fa fa-linkedin fa-lg" style="padding-right: 10px;" href="https://in.linkedin.com/company/dsu-model-united-nations-society"></a>
			<a class="fa fa-instagram fa-lg" href="https://www.instagram.com/dsu_munsoc/?igsh=MWwydW53a28yeTIyYw%3D%3D"></a>
			<br>
			<img src="{{ url_for('static', filename='logo_white.png') }}" width="5%" height="5%">
		</footer>
		<script>
			function validateForm() {
				var x = document.forms["team"]["inputEmail"].value;
				if (x == "" || x == null) {
					alert("Email must be filled.");
				return false;
				}

				x = document.forms["team"]["inputTeamName"].value;
				if (x == "" || x == null) {
					alert("Team Name must be filled.");
					return false;
				}

				var radios = document.getElementsByName("inputCommitteePreference");
				var radioValid = false;
				var i = 0;
				while (!radioValid && i < radios.length) {
					if (radios[i].checked)
						radioValid = true;
					i ++;
				}
				if (!radioValid) {
					alert("Committee Preference must be selected.")
					return false;
				}

				var teamSizes = document.getElementsByName("inputTeamSize");
				var teamSizesValid = false;
				i = 0;
				while (!teamSizesValid && i < teamSizes.length) {
					if (teamSizes[i].checked)
						teamSizesValid = true;
					i ++;
				}
				if (!teamSizesValid) {
					alert("Team Size must be selected.")
					return false;
				}

				var memberName1 = document.getElementsByName("inputMemberName1");
				if (memberName1 == "" || memberName1 == null) {
					alert("Team Member Names must be filled.");
					return false;
				}
				var memberName2 = document.getElementsByName("inputMemberName2");
				if (memberName2 == "" || memberName2 == null) {
					alert("Team Member Names must be filled.");
					return false;
				}
				var memberName3 = document.getElementsByName("inputMemberName3");
				if (memberName3 == "" || memberName3 == null) {
					alert("Team Member Names must be filled.");
					return false;
				}
				var memberName4 = document.getElementsByName("inputMemberName4");
				if (memberName4) {
					if (memberName4 == "" || memberName4 == null) {
						alert("Team Member Names must be filled.");
						return false;
					}
				}
			}

		    window.onload = function() {
		        var radioButtons = document.querySelectorAll('input[name="inputTeamSize"]');

		        radioButtons.forEach(function(radioButton) {
		            radioButton.addEventListener('change', function() {
		                var selectedValue = parseInt(this.value);

		                var inputFieldsContainer = document.getElementById('inputFieldsContainer');

		                inputFieldsContainer.innerHTML = '';
		                var br = document.createElement('br');
		                inputFieldsContainer.appendChild(br)

		                for (var i = 0; i < selectedValue; i++) {
		                    var label = document.createElement('label');
		                    label.setAttribute('for', 'member' + (i + 1));
		                    label.innerHTML = 'Member ' + (i + 1) + ' Name:';
		                    inputFieldsContainer.appendChild(label);

		                    var input = document.createElement('input');
		                    input.type = 'text';
		                    input.placeholder = 'Member ' + (i + 1) + ' Name';
		                    input.name = 'inputMemberName' + (i + 1);
		                    input.required = true;
		                    input.classList.add('form-control');
		                    inputFieldsContainer.appendChild(input);

		                    if (i < selectedValue - 1) {
		                        inputFieldsContainer.appendChild(document.createElement('br'));
		                    }
		                }
		            });
		        });
		    };
		</script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
	</body>
</html>